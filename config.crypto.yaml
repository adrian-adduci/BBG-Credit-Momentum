# Configuration file for Cryptocurrency Trading Strategy System
# Copy this file to config.yaml for cryptocurrency trading setup

# Data Source Configuration
data_source:
  # Use "crypto" for cryptocurrency exchanges
  type: "crypto"

  # Cryptocurrency exchange settings
  crypto:
    exchange: "binance"  # Options: binance, coinbase, kraken, bybit, okx
    symbols:
      - "BTC/USDT"
      - "ETH/USDT"
      - "SOL/USDT"
      - "BNB/USDT"
    timeframe: "1h"  # Options: 1m, 5m, 15m, 30m, 1h, 4h, 1d, 1w, 1M
    start_date: "2023-01-01"
    end_date: "2024-12-31"
    limit: 1000  # Maximum candles per request

# Model Configuration
model:
  # Model type: "XGBoost", "CART", "AdaBoostClassifier", etc.
  type: "XGBoost"

  # Model parameters
  estimators: 1000
  random_state: 42

  # Training parameters
  test_split: 0.20  # 20% of data for testing
  sequential: false  # Set to true for time-series split without shuffle

# Feature Engineering
features:
  # Target column name (crypto asset to predict)
  target: "BTC_USDT_close"

  # Columns to calculate momentum for
  momentum_columns:
    - "BTC_USDT_close"
    - "ETH_USDT_close"
    - "SOL_USDT_close"

  # Momentum calculation windows (periods based on timeframe)
  # For 1h timeframe: 5 = 5 hours, 10 = 10 hours, etc.
  momentum_short_windows: [5, 10, 15]  # Short-term windows
  momentum_long_window: 30  # Long-term baseline

  # Forecast horizons (periods ahead to predict)
  forecast_horizons: [1, 3, 7, 15, 30]

  # Crypto-specific technical indicators
  crypto_indicators:
    # Enable/disable technical indicators
    enabled: true

    # RSI (Relative Strength Index)
    rsi:
      enabled: true
      window: 14  # Standard RSI period

    # MACD (Moving Average Convergence Divergence)
    macd:
      enabled: true
      fast: 12  # Fast EMA period
      slow: 26  # Slow EMA period
      signal: 9  # Signal line period

    # Bollinger Bands
    bollinger_bands:
      enabled: true
      window: 20  # SMA period
      num_std: 2  # Number of standard deviations

    # VWAP (Volume-Weighted Average Price)
    vwap:
      enabled: true
      window: 24  # Rolling window (24 hours for 1h timeframe)

    # Volatility
    volatility:
      enabled: true
      window: 20  # Rolling window for std dev

# Analysis Settings
analysis:
  # Feature importance thresholds
  importance_threshold: 0.05  # Minimum feature importance to display
  usefulness_threshold: 0.2  # Minimum max importance over time
  ppscore_threshold: 0.5  # Minimum predictive power score

  # Forecast range for analysis
  max_forecast_days: 30

  # Time series cross-validation splits
  cv_splits: 5

  # Risk metrics
  risk_metrics:
    risk_free_rate: 0.02  # 2% annual risk-free rate
    var_confidence: 0.95  # 95% confidence for Value at Risk
    drawdown_threshold: 0.15  # Alert if drawdown exceeds 15%

# Streamlit UI Settings
ui:
  # Default date range for data display
  default_start_date: "2023-01-01"
  default_end_date: "2024-12-31"

  # Chart settings
  chart_width: 1100
  image_width: 1000

  # Real-time features
  realtime_refresh: false
  refresh_interval: 60  # seconds

  # Default exchange and timeframe
  default_exchange: "binance"
  default_timeframe: "1h"

# API Settings
api:
  # FastAPI server configuration
  host: "0.0.0.0"
  port: 8000
  reload: true  # Auto-reload on code changes (development only)

  # CORS settings (configure for production)
  cors_origins:
    - "*"  # Allow all origins (change in production)

  # Rate limiting
  rate_limit_enabled: true
  requests_per_minute: 60

# Trading Strategy Settings
trading:
  # Backtesting parameters
  initial_capital: 10000.0  # Starting capital in USD
  position_size: 0.1  # Position size as fraction of capital (10%)
  transaction_cost: 0.001  # Transaction cost (0.1%)

  # Risk management
  stop_loss_pct: 0.05  # Stop loss at 5% loss
  take_profit_pct: 0.10  # Take profit at 10% gain
  max_position_size: 0.25  # Maximum 25% of capital in single position

  # Strategy types
  default_strategy: "momentum"  # Options: momentum, mean_reversion, ml_forecast

# Logging
logging:
  level: "INFO"  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
  log_to_file: true
  log_file: "logs/crypto_trading.log"

# Performance
performance:
  # Number of threads for numerical operations
  numexpr_threads: 16

  # Caching
  enable_cache: true
  cache_ttl: 300  # Cache TTL in seconds (5 minutes)
